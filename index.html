<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Aim Trainer</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #111;
      height: 100%;
      cursor: crosshair;
    }

    #stats {
      position: absolute;
      top: 10px;
      left: 10px;
      width: 250px;
      min-height: 200px;
      background: rgba(0,0,0,0.5);
      color: #0ff;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      z-index: 10;
      user-select: none;
      pointer-events: none;
    }

    .target {
      position: absolute;
      border-radius: 50%;
      cursor: crosshair;
      animation: fadeIn 0.1s ease-out;
      transform-origin: center;
    }

    .outer {
      width: 80px;
      height: 80px;
      background: rgba(255,0,0,0.3);
    }

    .middle {
      width: 50px;
      height: 50px;
      background: rgba(255,0,0,0.6);
      top: 15px;
      left: 15px;
    }

    .inner {
      width: 20px;
      height: 20px;
      background: red;
      top: 30px;
      left: 30px;
    }

    .circle {
      position: absolute;
      border-radius: 50%;
    }

    @keyframes destroy {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(2); opacity: 0; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 5;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div id="stats"></div>
  <canvas id="trail"></canvas>

  <script>
    const stats = {
      hits: 0,
      points: 0,
      zoneHits: [0,0,0],
      lastTime: null,
      intervals: [],
      linearAccuracy: []
    };

    const statBox = document.getElementById("stats");
    const canvas = document.getElementById("trail");
    const ctx = canvas.getContext("2d");

    let width = window.innerWidth;
    let height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;

    let tracking = false;
    let mousePath = [];
    let startPoint = null;

    function updateStats() {
      const avgInterval = stats.intervals.length
        ? (stats.intervals.reduce((a,b) => a + b, 0) / stats.intervals.length).toFixed(2)
        : "‚Äì";
      const linear = stats.linearAccuracy.length
        ? (stats.linearAccuracy.reduce((a,b) => a + b, 0) / stats.linearAccuracy.length).toFixed(1) + "%"
        : "‚Äì";

      statBox.innerText =
        `üéØ Shots: ${stats.hits}\n` +
        `üèÜ Scores: ${stats.points}\n` +
        `Zones: 1Ô∏è‚É£ ${stats.zoneHits[0]} | 2Ô∏è‚É£ ${stats.zoneHits[1]} | 3Ô∏è‚É£ ${stats.zoneHits[2]}\n` +
        `üïí Avg time: ${avgInterval} –º—Å\n` +
        `üìê Linear: ${linear}`;
    }

    function playSound() {
      const audio = new Audio("data:audio/wav;base64,SUQzAwAAAAAfdlRZRVIAAAAFAAAAMjAyMVRJVDIAAAAxAAAB//4eBDQEOAQ9BD4ERwQ9BEsEOQQgADMEOwRDBEUEPgQ5BCAASQQ1BDsERwQ+BDoEVFBFMQAAAAEAAABUQUxCAAAAAQAAAFRDT04AAAABAAAAQ09NTQAAAAUAAABlbmcAVFJDSwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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");
      audio.play().catch(()=>{});
    }

    function createTarget() {
      const container = document.createElement("div");
      container.className = "target outer";
      const mid = document.createElement("div");
      mid.className = "circle middle";
      const inner = document.createElement("div");
      inner.className = "circle inner";

      container.appendChild(mid);
      container.appendChild(inner);

      let x, y;
      do {
        x = Math.random() * (width - 80);
        y = Math.random() * (height - 80);
      } while (x < 260 && y < 210);

      container.style.left = `${x}px`;
      container.style.top = `${y}px`;

      document.body.appendChild(container);

      const center = [x + 40, y + 40];

      container.addEventListener("click", e => {
        const rect = container.getBoundingClientRect();
        const cx = rect.left + 40;
        const cy = rect.top + 40;
        const dx = e.clientX - cx;
        const dy = e.clientY - cy;
        const dist = Math.sqrt(dx*dx + dy*dy);

        let zone = 0, score = 0;
        if (dist <= 10) { zone = 3; score = 3; }
        else if (dist <= 25) { zone = 2; score = 2; }
        else if (dist <= 40) { zone = 1; score = 1; }

        stats.hits++;
        stats.points += score;
        if (zone > 0) stats.zoneHits[zone - 1]++;

        const now = performance.now();
        if (stats.lastTime) stats.intervals.push(now - stats.lastTime);
        stats.lastTime = now;

        playSound();

        container.style.animation = "destroy 0.3s forwards";
        setTimeout(() => container.remove(), 300);

        // –ó–∞–ø—É—Å–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
        startPoint = [cx, cy];
        mousePath = [startPoint];
        tracking = true;

        updateStats();
        createTarget();
      });
    }

    function drawMousePath() {
      ctx.clearRect(0, 0, width, height);
      if (mousePath.length < 2) return;

      const [sx, sy] = startPoint;
      for (let i = 1; i < mousePath.length; i++) {
        const [x1, y1] = mousePath[i - 1];
        const [x2, y2] = mousePath[i];

        // –í–µ–∫—Ç–æ—Ä –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –ø—Ä—è–º–æ–π
        const dx = x2 - sx;
        const dy = y2 - sy;
        const px = x1 - sx;
        const py = y1 - sy;

        const proj = (px * dx + py * dy) / (dx*dx + dy*dy);
        const projX = sx + proj * dx;
        const projY = sy + proj * dy;

        const deviation = Math.sqrt((projX - x1)**2 + (projY - y1)**2);
        const maxDev = 50; // –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
        const t = Math.min(1, deviation / maxDev);

        const r = Math.floor(255 * t);
        const g = Math.floor(255 * (1 - t));
        const color = `rgba(${r},${g},0,0.3)`;

        ctx.beginPath();
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);
        ctx.strokeStyle = color;
        ctx.lineWidth = 1.5;
        ctx.filter = "blur(1px)";
        ctx.stroke();
        ctx.filter = "none";
      }

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å –¥–ª—è –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
      const [ex, ey] = mousePath[mousePath.length - 1];
      const straight = Math.sqrt((ex - sx)**2 + (ey - sy)**2);
      let total = 0;
      for (let i = 1; i < mousePath.length; i++) {
        const [x1, y1] = mousePath[i - 1];
        const [x2, y2] = mousePath[i];
        total += Math.sqrt((x2 - x1)**2 + (y2 - y1)**2);
      }
      const linearity = (straight / total) * 100;
      stats.linearAccuracy.push(linearity);
    }

    document.addEventListener("mousemove", e => {
      if (tracking) {
        mousePath.push([e.clientX, e.clientY]);
        drawMousePath();
      }
    });

    window.addEventListener("resize", () => {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    });

    // –°—Ç–∞—Ä—Ç
    createTarget();
    updateStats();
  </script>
</body>
</html>
